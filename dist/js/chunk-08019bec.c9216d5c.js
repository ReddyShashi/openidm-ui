/*!
 * Copyright 2019 ForgeRock AS. All Rights Reserved 
 *  Use of this code requires a commercial software license with ForgeRock AS. or with one of its affiliates. All use shall be exclusively subject to such license between the licensee and ForgeRock AS.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08019bec"],{"0602":function(t,e,s){},"0606":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.imageFound?s("b-img",{attrs:{src:t.src,width:t.width,height:t.width,alt:t.alt}}):s("span",{staticClass:"icon-holder p-2 d-flex bg-light border rounded"},[s("i",{class:["fa",t.fallback,"fa-lg text-dark mt-auto"]})])],1)},a=[],n=s("2ef0"),o=s.n(n),r=s("bc3a"),l=s.n(r),c={name:"Image-Fallback",props:["src","width","height","alt","fallback"],data:function(){return{imageFound:!1}},mounted:function(){var t=this;!o.a.isNull(this.src)&&!o.a.isUndefined(this.src)&&this.src.length>0?l.a.get("".concat(this.src)).then((function(e){var s=e.status;t.imageFound=200===s})).catch((function(e){e&&(t.imageFound=!1)})):this.imageFound=!1}},u=c,d=(s("c932"),s("2877")),f=Object(d["a"])(u,i,a,!1,null,"1c629ce4",null);e["a"]=f.exports},"1f49":function(t,e,s){},"38dd":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fr-list-group",{directives:[{name:"show",rawName:"v-show",value:t.devices,expression:"devices"}],attrs:{title:t.$t("pages.profile.trustedDevices.title"),subtitle:t.$t("pages.profile.trustedDevices.subtitle")}},[t.devices.length>0?t._l(t.devices,(function(e,i){return s("fr-list-item",{key:i,attrs:{collapsible:!1,panelShown:!1}},[s("div",{staticClass:"d-inline-flex w-100",attrs:{slot:"list-item-header"},slot:"list-item-header"},[s("div",{staticClass:"d-flex mr-3 align-self-top"},[s("fr-fallback-image",{attrs:{src:e.logo_uri,fallback:"fa-tv m-auto pt-1 pb-1"}})],1),s("div",{staticClass:"flex-grow-1"},[s("div",[t._v("\n                        "+t._s(e.name)+"\n                    ")]),s("small",{staticClass:"text-muted subtext"},[t._v(t._s(e.lastSelectedDate))])]),s("a",{staticClass:"align-self-center flex-grow-2 text-right",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.showConfirmationModal(e)}}},[t._v(t._s(t.$t("common.form.remove")))])])])})):[s("b-list-group-item",{staticClass:"noncollapse text-center"},[t._v("\n            "+t._s(t.$t("pages.profile.trustedDevices.noDevices"))+"\n        ")])],s("b-modal",{ref:"fsModal",attrs:{id:"trustedDevicesConfirmationModal","cancel-variant":"outline-secondary"}},[s("div",{staticClass:"d-flex w-100 h-100",attrs:{slot:"modal-header"},slot:"modal-header"},[s("h6",{staticClass:"my-0"},[t._v(t._s(t.$t("common.form.confirm")))]),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$refs.fsModal.hide()}}},[s("i",{staticClass:"fa fa-times"})])]),t._v("\n        "+t._s(t.$t("pages.profile.trustedDevices.removeConfirmation",{deviceName:t.confirmDevice.name}))+"\n        "),s("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("div",{staticClass:"float-right"},[s("b-btn",{attrs:{variant:"outline-secondary mr-2"},on:{click:function(e){return t.$refs.fsModal.hide()}}},[t._v(t._s(t.$t("common.form.cancel")))]),s("b-btn",{attrs:{type:"button",variant:"danger"},on:{click:function(e){return t.removeDevice(t.confirmDevice.id)}}},[t._v(t._s(t.$t("common.form.remove")))])],1)])])],2)},a=[],n=s("0606"),o=s("5231"),r=s("9830"),l={name:"Trusted-Devices",components:{"fr-list-group":o["a"],"fr-list-item":r["a"],"fr-fallback-image":n["a"]},data:function(){return{devices:{},confirmDevice:{name:"",id:null}}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this,e=this.$root.userStore.state.userName,s="?_queryId=*",i=this.getRequestService(),a=this.$root.applicationStore.state.amDataEndpoints.baseUrl+e+this.$root.applicationStore.state.amDataEndpoints.trustedDevices+s;i.get(a,{withCredentials:!0}).then((function(e){t.devices=e.data.result})).catch((function(e){t.displayNotification("error",e.response.data.message)}))},showConfirmationModal:function(t){this.confirmDevice.id=t.uuid,this.confirmDevice.name=t.name,this.$refs.fsModal.show()},removeDevice:function(t){var e=this,s=this.$root.userStore.state.userName,i=this.getRequestService(),a=this.$root.applicationStore.state.amDataEndpoints.baseUrl+s+this.$root.applicationStore.state.amDataEndpoints.trustedDevices+t;i.delete(a,{withCredentials:!0}).then((function(){e.displayNotification("success",e.$t("pages.profile.trustedDevices.removeSuccess",{deviceName:e.confirmDevice.name})),e.loadData(),e.$refs.fsModal.hide()})).catch((function(t){e.displayNotification("error",t.response.data.message)}))}}},c=l,u=s("2877"),d=Object(u["a"])(c,i,a,!1,null,"4a2bc844",null);e["default"]=d.exports},"3a90":function(t,e,s){},5231:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"mb-3",attrs:{"no-body":""}},[t._t("list-group-header",[s("b-card-body",{staticClass:"py-4"},[s("h5",{class:[{"mb-4":t.subtitle,"mb-0":!t.subtitle},"card-title"]},[t._v(t._s(t.title))]),t.subtitle?s("h6",{staticClass:"card-subtitle mb-0 text-muted"},[t._v(t._s(t.subtitle))]):t._e()])]),s("b-list-group",{attrs:{flush:""}},[t._t("default")],2)],2)},a=[],n={name:"List-Group",props:{title:{type:String},subtitle:{type:String}},data:function(){return{}}},o=n,r=(s("8fef"),s("2877")),l=Object(r["a"])(o,i,a,!1,null,"1e1858be",null);e["a"]=l.exports},"8fef":function(t,e,s){"use strict";var i=s("3a90"),a=s.n(i);a.a},9830:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.collapsible?s("div",{staticClass:"collapsible"},[s("b-list-group-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.toggleId,expression:"toggleId"}],class:[{"list-item-cursor":!1===t.collapsible}],attrs:{href:"#"}},[s("div",{staticClass:"media"},[t._t("list-item-header")],2)]),s("b-collapse",{attrs:{id:t.id,visible:t.panelShown},on:{hide:function(e){return t.$emit("hide")},show:function(e){return t.$emit("show")},hidden:function(e){return t.$emit("hidden")},shown:function(e){return t.$emit("shown")}}},[s("b-card-body",{staticClass:"pt-3"},[t._t("list-item-collapse-body")],2)],1)],1):s("div",{class:[{"fr-hover-item":t.hoverItem}],on:{click:function(e){return t.$emit("row-click")}}},[s("b-list-group-item",{staticClass:"noncollapse"},[s("div",{staticClass:"media"},[t._t("list-item-header")],2)]),t.panelShown?s("b-card-body",{staticClass:"pt-3"},[t._t("list-item-collapse-body")],2):t._e()],1)},a=[],n={name:"List-Item",props:{collapsible:{type:Boolean,default:!1},panelShown:{type:Boolean,default:!1},hoverItem:{type:Boolean,default:!1}},data:function(){return{id:null}},beforeMount:function(){this.id="listItem"+this._uid},computed:{toggleId:function(){return this.collapsible?this.id:null}}},o=n,r=(s("a617"),s("2877")),l=Object(r["a"])(o,i,a,!1,null,"cc9f6ae4",null);e["a"]=l.exports},a617:function(t,e,s){"use strict";var i=s("1f49"),a=s.n(i);a.a},c932:function(t,e,s){"use strict";var i=s("0602"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-08019bec.c9216d5c.js.map