{"version":3,"sources":["webpack:///./src/components/access/EditResource.vue?a601","webpack:///./src/components/access/RelationshipArray.vue?43a0","webpack:///src/components/access/RelationshipArray.vue","webpack:///./src/components/access/RelationshipArray.vue?8a1f","webpack:///./src/components/access/RelationshipArray.vue","webpack:///src/components/access/EditResource.vue","webpack:///./src/components/access/EditResource.vue?7e88","webpack:///./src/components/access/EditResource.vue","webpack:///./src/components/access/RelationshipArray.vue?f876","webpack:///./src/components/access/EditResource.vue?1b91"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","setIcon","_v","_s","displayName","secondaryTitle","canChangePassword","canDelete","attrs","directives","name","rawName","modifiers","$t","_e","displayProperties","length","_l","field","index","isReadOnly","type","undefined","encryption","key","title","model","value","formFields","callback","$$v","$set","expression","checked","unchecked","getRelationshipDisplayFields","displayField","displayFieldIndex","resource","setSingletonRelationshipValue","required","ref","refInFor","errors","has","trim","_n","disableSaveButton","on","saveResource","relationshipProperty","id","slot","deleteResource","passwordInputType","revealNew","showPassword","savePassword","staticRenderFns","relationshipArrayProperty","openCreateModal","selected","$event","$bvModal","show","removeModalId","columns","gridData","tableHover","onRowSelected","scopedSlots","_u","fn","data","resourceClicked","item","display","toggleSelectAll","allRowsSelected","disabled","currentPage","preventDefault","paginationChange","_m","lastPage","createModalId","parentResource","addNewRelationship","hide","newRelationships","saveNewRelationships","removeRelationships","component"],"mappings":"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","file":"js/chunk-8a5b8c08.8de06a7e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',[_c('div',{staticClass:\"d-sm-flex my-4\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"rounded-circle fr-resource-circle text-light bg-primary mr-4\"},[_c('i',{class:_vm.setIcon})]),_c('div',{staticClass:\"media-body\"},[_c('h1',[_vm._v(_vm._s(_vm.displayName))]),_c('h6',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.secondaryTitle))])])]),(_vm.canChangePassword || _vm.canDelete)?_c('div',{staticClass:\"ml-auto my-4 my-sm-0 align-self-center align-self-end\"},[_c('b-dropdown',{staticClass:\"m-md-2\",attrs:{\"id\":\"resourceActions\",\"text\":\"Actions\",\"right\":\"\",\"variant\":\"primary\"}},[(_vm.canChangePassword)?_c('b-dropdown-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.resetModal\",modifiers:{\"resetModal\":true}}]},[_vm._v(_vm._s(_vm.$t('pages.access.resetPassword')))]):_vm._e(),(_vm.canDelete)?_c('b-dropdown-item',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.deleteModal\",modifiers:{\"deleteModal\":true}}]},[_vm._v(_vm._s(_vm.$t(\"common.form.delete\"))+\" \"+_vm._s(this.name))]):_vm._e()],1)],1):_vm._e()])])],1),_c('b-tabs',{attrs:{\"content-class\":\"mt-4\",\"nav-class\":\"nav-bar-border\",\"flex-column\":\"\",\"flex-sm-row\":\"\"}},[_c('b-tab',{attrs:{\"title\":this.$t('pages.access.details'),\"active\":\"\"}},[_c('b-card',[(_vm.displayProperties.length > 0)?[_vm._l((_vm.displayProperties),function(field,index){return [(!field.isReadOnly)?[((field.type === 'string' || field.type === 'number') && field.encryption === undefined)?_c('b-form-group',{key:'editResource' +index,attrs:{\"label\":field.title,\"label-for\":\"field.key\",\"horizontal\":\"\"}},[(field.type === 'string')?_c('b-form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(field.required ? 'required' : ''),expression:\"field.required ? 'required' : ''\"}],ref:index === 0 ? 'focusInput' : '',refInFor:true,class:[{'is-invalid': _vm.errors.has((\"mainEdit.\" + (field.key)))}],attrs:{\"data-vv-validate-on\":\"submit\",\"name\":field.key,\"type\":\"text\",\"data-vv-as\":field.title,\"data-vv-scope\":\"mainEdit\",\"autocomplete\":field.key},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formFields[field.key]\"}}):_c('b-form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(field.required ? 'required' : ''),expression:\"field.required ? 'required' : ''\"}],ref:index === 0 ? 'focusInput' : '',refInFor:true,class:[{'is-invalid': _vm.errors.has((\"mainEdit.\" + (field.key)))}],attrs:{\"horizontal\":\"\",\"data-vv-validate-on\":\"submit\",\"name\":field.key,\"type\":\"number\",\"data-vv-as\":field.title,\"data-vv-scope\":\"mainEdit\",\"autocomplete\":field.key},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, _vm._n($$v))},expression:\"formFields[field.key]\"}}),_c('fr-validation-error',{attrs:{\"validatorErrors\":_vm.errors,\"fieldName\":(\"mainEdit.\" + (field.key))}})],1):(field.type === 'relationship')?_c('fr-relationship-edit',{key:'editResource' +index,attrs:{\"parentResource\":_vm.resource + \"/\" + _vm.name,\"relationshipProperty\":field,\"index\":index,\"value\":_vm.formFields[field.key],\"setValue\":_vm.setSingletonRelationshipValue}}):_vm._e(),(field.type === 'boolean')?_c('b-form-group',{key:'editResource' +index},[_c('div',{staticClass:\"form-row\"},[_c('label',{staticClass:\"col-form-label col-sm-3\",attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),_c('div',{staticClass:\"mr-auto\"},[_c('toggle-button',{staticClass:\"mt-2 p-0 fr-toggle-primary\",attrs:{\"height\":28,\"width\":56,\"sync\":true,\"cssColors\":true,\"labels\":{checked: _vm.$t('common.form.yes'), unchecked: _vm.$t('common.form.no')}},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, $$v)},expression:\"formFields[field.key]\"}})],1)])]):_vm._e()]:[((field.type === 'string' || field.type === 'number') && field.encryption === undefined)?_c('b-form-group',{key:'readResource' +index,attrs:{\"label\":field.title,\"label-for\":\"field.key\",\"horizontal\":\"\"}},[_c('b-form-input',{attrs:{\"horizontal\":\"\",\"type\":\"text\",\"plaintext\":\"\"},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, $$v)},expression:\"formFields[field.key]\"}})],1):_vm._e(),(field.type === 'boolean')?_c('b-form-group',{key:'readResource' +index},[_c('div',{staticClass:\"form-row\"},[_c('label',{staticClass:\"col-form-label col-sm-3\",attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),_c('div',{staticClass:\"mr-auto\"},[_c('toggle-button',{staticClass:\"mt-2 p-0 fr-toggle-primary\",attrs:{\"height\":28,\"width\":56,\"disabled\":true,\"sync\":true,\"cssColors\":true,\"labels\":{checked: _vm.$t('common.form.yes'), unchecked: _vm.$t('common.form.no')}},model:{value:(_vm.formFields[field.key]),callback:function ($$v) {_vm.$set(_vm.formFields, field.key, $$v)},expression:\"formFields[field.key]\"}})],1)])]):_vm._e(),(field.type === 'relationship')?_c('b-form-group',{key:'readResource' +index},[_c('div',{staticClass:\"form-row\"},[_c('label',{staticClass:\"col-form-label col-sm-3\",attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),(_vm.formFields[field.key])?_c('div',{staticClass:\"media-body\"},[_c('div',{staticClass:\"text-bold pl-1\"},[_vm._v(_vm._s(_vm.formFields[field.key][_vm.getRelationshipDisplayFields(field, _vm.formFields[field.key])[0]]))]),_c('div',_vm._l((_vm.getRelationshipDisplayFields(field, _vm.formFields[field.key])),function(displayField,displayFieldIndex){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(displayFieldIndex !== 0),expression:\"displayFieldIndex !== 0\"}],key:(\"displayField_\" + displayField + \"_\" + displayFieldIndex),staticClass:\"pl-1 pr-1 text-muted\"},[_vm._v(\"\\n                                                \"+_vm._s(_vm.formFields[field.key][displayField])+\"\\n                                            \")])}),0)]):_vm._e()])]):_vm._e()]]}),(!_vm.disableSaveButton)?_c('div',{staticClass:\"float-right mt-4\"},[_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.saveResource}},[_vm._v(_vm._s(_vm.$t('common.form.save')))])],1):_vm._e()]:_c('span',[_vm._v(\"\\n                    \"+_vm._s(_vm.$t('pages.access.noAvailableProperties'))+\"\\n                \")])],2)],1),_vm._l((_vm.relationshipProperties),function(relationshipProperty){return [(relationshipProperty.type === 'array')?_c('b-tab',{key:((relationshipProperty.propName) + \"_tab\"),attrs:{\"title\":relationshipProperty.title}},[_c('fr-relationship-array',{attrs:{\"parentResource\":_vm.resource + \"/\" + _vm.name,\"parentId\":_vm.id,\"relationshipArrayProperty\":relationshipProperty}})],1):_vm._e()]})],2),(_vm.canDelete)?_c('b-modal',{ref:\"deleteModal\",attrs:{\"id\":\"deleteModal\",\"title\":this.$t('pages.access.deleteModalTitle')}},[_c('div',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('pages.access.deleteConfirm'))+\" \"+_vm._s(this.name)+\"?\\n        \")]),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"danger\"},on:{\"click\":_vm.deleteResource}},[_vm._v(_vm._s(_vm.$t('common.form.delete')))])],1)])]):_vm._e(),(_vm.canChangePassword)?_c('b-modal',{ref:\"resetModal\",attrs:{\"id\":\"resetModal\",\"title\":this.$t('pages.access.resetPassword')}},[_c('fr-password-policy-input',{attrs:{\"policyApi\":(_vm.resource + \"/\" + _vm.name + \"/policyTest\")},model:{value:(_vm.formFields['password']),callback:function ($$v) {_vm.$set(_vm.formFields, 'password', $$v)},expression:\"formFields['password']\"}},[_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"slot\":\"custom-input\"},slot:\"custom-input\"},[_c('label',{attrs:{\"for\":\"updatePassword\"}},[_vm._v(_vm._s(_vm.$t('pages.access.password')))]),_c('div',{staticClass:\"form-label-password form-label-group mb-0\"},[_c('b-form-input',{directives:[{name:\"validate\",rawName:\"v-validate.initial\",value:('required|policy'),expression:\"'required|policy'\",modifiers:{\"initial\":true}}],attrs:{\"id\":\"updatePassword\",\"autocomplete\":\"password\",\"type\":_vm.passwordInputType,\"name\":\"password\"},model:{value:(_vm.formFields['password']),callback:function ($$v) {_vm.$set(_vm.formFields, 'password', $$v)},expression:\"formFields['password']\"}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.revealNew}},[_c('i',{class:[{'fa-eye-slash': !_vm.showPassword}, {'fa-eye': _vm.showPassword}, 'fa']})])])],1)])],1),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"primary\"},on:{\"click\":_vm.savePassword}},[_vm._v(_vm._s(_vm.$t('common.form.save')))])],1)])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mt-3\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.relationshipArrayProperty.isReadOnly),expression:\"!relationshipArrayProperty.isReadOnly\"}],staticClass:\"px-4 py-2\"},[_c('b-row',[_c('b-col',{staticClass:\"my-1\",attrs:{\"md\":\"7\"}},[_c('b-btn',{staticClass:\"mr-1\",attrs:{\"type\":\"button\",\"variant\":\"primary\",\"id\":'add_' + _vm.relationshipArrayProperty.key},on:{\"click\":_vm.openCreateModal}},[_c('i',{staticClass:\"fa fa-plus mr-3\"}),_vm._v(_vm._s(_vm.$t(\"common.form.new\"))+\" \"+_vm._s(_vm.relationshipArrayProperty.title)+\"\\n                \")]),_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selected.length > 0),expression:\"selected.length > 0\"}],attrs:{\"variant\":\"outline-primary\",\"id\":'delete_' + _vm.relationshipArrayProperty.key},on:{\"click\":function($event){return _vm.$bvModal.show(_vm.removeModalId)}}},[_c('i',{staticClass:\"fa fa-trash mr-3\"}),_vm._v(_vm._s(_vm.$t(\"common.form.remove\"))+\"\\n                \")])],1)],1)],1),_c('b-table',{ref:\"relationshipArrayGrid\",staticClass:\"mb-0\",attrs:{\"show-empty\":\"\",\"table-responsive\":\"\",\"stacked\":\"lg\",\"fields\":_vm.columns,\"items\":_vm.gridData,\"per-page\":0,\"hover\":_vm.tableHover,\"no-local-sorting\":true,\"selectable\":!_vm.relationshipArrayProperty.isReadOnly,\"selected-variant\":\"active\"},on:{\"row-selected\":_vm.onRowSelected},scopedSlots:_vm._u([{key:\"cell(selected)\",fn:function(data){return [_c('b-form-checkbox',{staticClass:\"pl-4\",attrs:{\"id\":'rowSelectCheckbox_' + _vm.relationshipArrayProperty.key + data.index,\"disabled\":\"\"},model:{value:(data.rowSelected),callback:function ($$v) {_vm.$set(data, \"rowSelected\", $$v)},expression:\"data.rowSelected\"}})]}},{key:\"cell(_relationshipDetails)\",fn:function(data){return [_c('div',{staticClass:\"media cursor-pointer\",on:{\"click\":function($event){return _vm.resourceClicked(data.item)}}},[_c('div',{staticClass:\"media-body\"},[_c('div',{staticClass:\"text-bold\"},[_vm._v(_vm._s(data.value[0]))]),_c('div',_vm._l((data.value),function(display,index){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(index !== 0),expression:\"index !== 0\"}],key:(\"displayField_\" + display + \"_\" + index),staticClass:\"pr-1 text-muted\"},[_vm._v(\"\\n                                    \"+_vm._s(display)+\"\\n                            \")])}),0)])])]}}])},[_c('template',{slot:\"HEAD_selected\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gridData.length > 0),expression:\"gridData.length > 0\"}],staticClass:\"cursor-pointer\",on:{\"click\":_vm.toggleSelectAll}},[_c('b-form-checkbox',{staticClass:\"pl-4\",attrs:{\"disabled\":\"\"},model:{value:(_vm.allRowsSelected),callback:function ($$v) {_vm.allRowsSelected=$$v},expression:\"allRowsSelected\"}})],1)])],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gridData.length),expression:\"gridData.length\"}],staticClass:\"card-footer py-2\"},[_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination justify-content-center mb-0\"},[_c('li',{class:[{ disabled: _vm.currentPage === 1 }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.currentPage === 1 ? '' : _vm.paginationChange(1)}}},[_vm._m(0)]),_c('li',{class:[{ disabled: _vm.currentPage === 1 }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.currentPage === 1 ? '' : _vm.paginationChange(_vm.currentPage - 1)}}},[_vm._m(1)]),_c('li',{class:[{ disabled: _vm.lastPage }, 'page-item'],on:{\"click\":function($event){$event.preventDefault();_vm.lastPage ?  '' : _vm.paginationChange(_vm.currentPage + 1)}}},[_vm._m(2)])])])]),_c('b-modal',{ref:_vm.createModalId,attrs:{\"id\":_vm.createModalId,\"title\":'Add ' + _vm.relationshipArrayProperty.title}},[_c('fr-relationship-edit',{attrs:{\"parentResource\":_vm.parentResource,\"relationshipProperty\":_vm.relationshipArrayProperty,\"index\":0,\"setValue\":_vm.addNewRelationship}}),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"variant\":\"outline-secondary mr-2\"},on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.createModalId)}}},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('common.form.cancel'))+\"\\n                \")]),_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"primary\",\"id\":(\"save_new_\" + (_vm.relationshipArrayProperty.key)),\"disabled\":_vm.newRelationships.length === 0},on:{\"click\":_vm.saveNewRelationships}},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('common.form.save'))+\"\\n                \")])],1)])],1),_c('b-modal',{ref:_vm.removeModalId,attrs:{\"id\":_vm.removeModalId,\"title\":_vm.$t('pages.access.removeModalTitle')}},[_c('div',[_vm._v(\"\\n                \"+_vm._s(_vm.$t('pages.access.removeConfirm'))+\" \"+_vm._s(_vm.relationshipArrayProperty.title)+\"?\\n            \")]),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"variant\":\"btn-link text-danger mr-2\"},on:{\"click\":function($event){return _vm.$bvModal.hide(_vm.removeModalId)}}},[_vm._v(_vm._s(_vm.$t('common.form.cancel')))]),_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"danger\"},on:{\"click\":_vm.removeRelationships}},[_vm._v(_vm._s(_vm.$t('common.form.remove')))])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-double-left\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-left\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-angle-right\"})])}]\n\nexport { render, staticRenderFns }"," <template>\n    <div class=\"card mt-3\">\n        <div v-show=\"!relationshipArrayProperty.isReadOnly\" class=\"px-4 py-2\">\n            <b-row>\n                <b-col md=\"7\" class=\"my-1\">\n                    <b-btn\n                        type=\"button\"\n                        variant=\"primary\"\n                        class=\"mr-1\"\n                        @click=\"openCreateModal\"\n                        :id=\"'add_' + relationshipArrayProperty.key\">\n                            <i class=\"fa fa-plus mr-3\"></i>{{$t(\"common.form.new\")}} {{relationshipArrayProperty.title}}\n                    </b-btn>\n                    <b-button\n                        v-show=\"selected.length > 0\"\n                        variant=\"outline-primary\"\n                        @click=\"$bvModal.show(removeModalId)\"\n                        :id=\"'delete_' + relationshipArrayProperty.key\">\n                            <i class=\"fa fa-trash mr-3\"></i>{{$t(\"common.form.remove\")}}\n                    </b-button>\n                </b-col>\n            </b-row>\n        </div>\n\n        <b-table\n            show-empty\n            ref=\"relationshipArrayGrid\"\n            table-responsive\n            stacked=\"lg\"\n            :fields=\"columns\"\n            :items=\"gridData\"\n            :per-page=\"0\"\n            :hover=\"tableHover\"\n            :no-local-sorting=\"true\"\n            class=\"mb-0\"\n            :selectable=\"!relationshipArrayProperty.isReadOnly\"\n            selected-variant=\"active\"\n            @row-selected=\"onRowSelected\">\n                <template slot=\"HEAD_selected\">\n                    <div\n                        v-show=\"gridData.length > 0\"\n                        class=\"cursor-pointer\"\n                        @click=\"toggleSelectAll\">\n                            <b-form-checkbox class=\"pl-4\" disabled v-model=\"allRowsSelected\"/>\n                    </div>\n                </template>\n                <template v-slot:cell(selected)=\"data\">\n                    <b-form-checkbox\n                        class=\"pl-4\"\n                        :id=\"'rowSelectCheckbox_' + relationshipArrayProperty.key + data.index\"\n                        disabled\n                        v-model=\"data.rowSelected\"/>\n                </template>\n                <template v-slot:cell(_relationshipDetails)=\"data\">\n                    <div class=\"media cursor-pointer\" @click=\"resourceClicked(data.item)\">\n                        <div class=\"media-body\">\n                            <div class=\"text-bold\">{{data.value[0]}}</div>\n                            <div>\n                                <span\n                                    v-for=\"(display, index) in data.value\"\n                                    :key=\"`displayField_${display}_${index}`\"\n                                    v-show=\"index !== 0\"\n                                    class=\"pr-1 text-muted\">\n                                        {{display}}\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </template>\n        </b-table>\n\n        <div v-show=\"gridData.length\" class=\"card-footer py-2\">\n            <nav aria-label=\"Page navigation example\">\n                <ul class=\"pagination justify-content-center mb-0\">\n                    <li @click.prevent=\"currentPage === 1 ? '' : paginationChange(1)\" :class=\"[{ disabled: currentPage === 1 }, 'page-item']\">\n                        <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-double-left'></i></a>\n                    </li>\n                    <li @click.prevent=\"currentPage === 1 ? '' : paginationChange(currentPage - 1)\" :class=\"[{ disabled: currentPage === 1 }, 'page-item']\">\n                        <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-left'></i></a>\n                    </li>\n                    <li  @click.prevent=\"lastPage ?  '' : paginationChange(currentPage + 1)\" :class=\"[{ disabled: lastPage }, 'page-item']\">\n                        <a class=\"page-link\" href=\"#\"><i class='fa fa-angle-right'></i></a>\n                    </li>\n                </ul>\n            </nav>\n        </div>\n        <b-modal\n            :id=\"createModalId\"\n            :ref=\"createModalId\"\n            :title=\"'Add ' + relationshipArrayProperty.title\">\n\n            <fr-relationship-edit\n                :parentResource='parentResource'\n                :relationshipProperty='relationshipArrayProperty'\n                :index=\"0\"\n                :setValue=\"addNewRelationship\" />\n\n            <div slot=\"modal-footer\" class=\"w-100\">\n                <div class=\"float-right\">\n                    <b-btn\n                        variant=\"outline-secondary mr-2\"\n                        @click=\"$bvModal.hide(createModalId)\">\n                            {{$t('common.form.cancel')}}\n                    </b-btn>\n                    <b-btn\n                        type=\"button\"\n                        variant=\"primary\"\n                        :id=\"`save_new_${relationshipArrayProperty.key}`\"\n                        @click=\"saveNewRelationships\"\n                        :disabled=\"newRelationships.length === 0\">\n                            {{$t('common.form.save')}}\n                    </b-btn>\n                </div>\n            </div>\n        </b-modal>\n\n        <b-modal\n            :id=\"removeModalId\"\n            :ref=\"removeModalId\"\n            :title=\"$t('pages.access.removeModalTitle')\">\n                <div>\n                    {{$t('pages.access.removeConfirm')}} {{relationshipArrayProperty.title}}?\n                </div>\n                <div slot=\"modal-footer\" class=\"w-100\">\n                    <div class=\"float-right\">\n                        <b-btn variant=\"btn-link text-danger mr-2\" @click=\"$bvModal.hide(removeModalId)\">{{$t('common.form.cancel')}}</b-btn>\n                        <b-btn type=\"button\" variant=\"danger\" @click=\"removeRelationships\">{{$t('common.form.remove')}}</b-btn>\n                    </div>\n                </div>\n        </b-modal>\n    </div>\n</template>\n\n<script>\nimport {\n    find,\n    toArray,\n    pick,\n    times,\n    map\n} from 'lodash';\nimport pluralize from 'pluralize';\nimport RelationshipEdit from '@/components/access/RelationshipEdit';\n\nexport default {\n    name: 'RelationshipArray',\n    components: {\n        'fr-relationship-edit': RelationshipEdit\n    },\n    props: {\n        parentId: {\n            type: String,\n            required: true\n        },\n        relationshipArrayProperty: {\n            type: Object,\n            required: true\n        },\n        parentResource: {\n            type: String,\n            required: true\n        }\n    },\n    data () {\n        return {\n            gridPageSize: 10,\n            allRowsSelected: false,\n            tableHover: true,\n            gridData: [],\n            columns: [],\n            currentPage: 1,\n            lastPage: false,\n            createModalId: `create_${this.relationshipArrayProperty.propName}_modal`,\n            removeModalId: `delete_${this.relationshipArrayProperty.propName}_modal`,\n            newRelationships: [],\n            selected: []\n        };\n    },\n    mounted () {\n        this.loadGrid(1);\n    },\n    methods: {\n        loadGrid (page) {\n            const idmInstance = this.getRequestService();\n\n            /* istanbul ignore next */\n            idmInstance.get(this.buildGridUrl(page)).then((resourceData) => {\n                if (resourceData.data.pagedResultsCookie) {\n                    this.lastPage = false;\n                } else {\n                    this.lastPage = true;\n                }\n\n                if (!this.relationshipArrayProperty.isReadOnly) {\n                    this.columns.push({\n                        key: 'selected',\n                        label: '',\n                        class: 'checkbox-column'\n                    });\n                }\n\n                this.columns.push({\n                    key: '_relationshipDetails',\n                    label: pluralize.singular(this.relationshipArrayProperty.title)\n                });\n\n                this.gridData = [];\n                this.setGridData(resourceData.data.result, this.relationshipArrayProperty);\n            }).catch((error) => {\n                this.displayNotification('error', error.response.data.message);\n            }); ;\n        },\n        setGridData (relationships, schema) {\n            relationships.forEach((relationship) => {\n                let resourceCollectionSchema = find(schema.items.resourceCollection, { path: relationship._refResourceCollection });\n\n                relationship._relationshipDetails = toArray(pick(relationship, resourceCollectionSchema.query.fields));\n\n                this.gridData.push(relationship);\n            });\n        },\n        buildGridUrl (page) {\n            let resourceUrl = `${this.parentResource}/${this.parentId}/${this.relationshipArrayProperty.propName}?_queryFilter=true&_pageSize=${this.gridPageSize}&_fields=`;\n\n            if (page > 1) {\n                // Pagination starts at 1 and we need to go back an additional one to get the previous page\n                let offsetCalc = (page - 1) * this.gridPageSize;\n\n                resourceUrl = `${resourceUrl}&_pagedResultsOffset=${offsetCalc}`;\n            }\n\n            return resourceUrl;\n        },\n        paginationChange (page) {\n            /* istanbul ignore next */\n            this.currentPage = page;\n            this.loadGrid(page);\n        },\n        resourceClicked (item) {\n            this.$router.push({\n                name: 'EditResource',\n                params: {\n                    resourceType: item._refResourceCollection.split('/')[0],\n                    resourceName: item._refResourceCollection.split('/')[1],\n                    resourceId: item._refResourceId\n                }\n            });\n        },\n        openCreateModal () {\n            this.$bvModal.show(this.createModalId);\n            this.newRelationships = [];\n        },\n        addNewRelationship (property, value) {\n            if (value) {\n                this.newRelationships.push(value);\n            }\n        },\n        onRowSelected (items) {\n            this.selected = items;\n\n            this.allRowsSelected = items.length === this.gridPageSize;\n        },\n        toggleSelectAll () {\n            const grid = this.$refs.relationshipArrayGrid;\n\n            this.allRowsSelected = !this.allRowsSelected;\n\n            if (!this.allRowsSelected) {\n                grid.selectedRows = [];\n            } else {\n                grid.selectedRows = times(this.gridPageSize, () => { return true; });\n            }\n        },\n        saveNewRelationships () {\n            this.updateRelationship('add', this.newRelationships);\n        },\n        removeRelationships () {\n            let relationshipsToRemove = [];\n            const requiredProps = ['_ref', '_refResourceCollection', '_refResourceId', '_refProperties'];\n\n            this.selected.forEach((relationship) => {\n                if (relationship) {\n                    relationshipsToRemove.push(pick(relationship, requiredProps));\n                }\n            });\n\n            this.updateRelationship('remove', relationshipsToRemove);\n        },\n        updateRelationship (operation, items) {\n            const patchArray = map(items, (item) => {\n                    if (operation === 'remove') {\n                        return {\n                            operation: 'remove',\n                            field: '/' + this.relationshipArrayProperty.propName,\n                            value: item\n                        };\n                    } else {\n                        return {\n                            operation: 'add',\n                            field: '/' + this.relationshipArrayProperty.propName + '/-',\n                            value: item\n                        };\n                    }\n                }),\n                translation = operation === 'remove' ? 'pages.access.successRemoved' : 'pages.access.successAdded',\n                idmInstance = this.getRequestService(),\n                loadAndCloseModal = () => {\n                    let modal = operation === 'remove' ? this.removeModalId : this.createModalId;\n                    this.loadGrid(1);\n                    this.$bvModal.hide(modal);\n                };\n\n            /* istanbul ignore next */\n            idmInstance.patch(`${this.parentResource}/${this.parentId}`, patchArray).then(() => {\n                loadAndCloseModal();\n                this.displayNotification('success', this.$t(translation, { resource: this.relationshipArrayProperty.title }));\n            })\n                .catch((error) => {\n                    loadAndCloseModal();\n                    this.displayNotification('error', error.response.data.message);\n                });\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n    /deep/ {\n        .fr-resource-paginator {\n            a[role=\"menuitemradio\"] {\n                display: none !important;\n            }\n        }\n\n        .checkbox-column {\n            width: 1px;\n            padding-right: 0px;\n            vertical-align: middle;\n        }\n\n        .cursor-pointer {\n            cursor: pointer;\n        }\n    }\n\n    .input-group {\n        & > .input-group-prepend {\n            .input-group-text.inset,\n            .btn.inset {\n                border-right-color: transparent;\n            }\n        }\n\n        & > .input-group-append {\n            .input-group-text.inset,\n            .btn.inset {\n                border-left-color: transparent;\n            }\n        }\n\n        & > .form-control {\n            &.inset-left:not(:first-child) {\n                border-left-color: transparent;\n            }\n\n            &.inset-right:not(:first-child) {\n                border-right-color: transparent;\n            }\n        }\n\n        .btn.clear {\n            opacity: 1;\n            color: $gray-500;\n            background-color: $input-bg;\n\n            &.disabled > i {\n                color: transparent;\n                border-width: 0;\n            }\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationshipArray.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationshipArray.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelationshipArray.vue?vue&type=template&id=64a6e943&scoped=true&\"\nimport script from \"./RelationshipArray.vue?vue&type=script&lang=js&\"\nexport * from \"./RelationshipArray.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RelationshipArray.vue?vue&type=style&index=0&id=64a6e943&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64a6e943\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <b-container>\n        <b-row>\n            <b-col>\n                <div class=\"d-sm-flex my-4\">\n                    <div class=\"media\">\n                        <div class=\"rounded-circle fr-resource-circle text-light bg-primary mr-4\">\n                            <i :class=\"setIcon\"/>\n                        </div>\n                        <div class=\"media-body\">\n                            <h1>{{displayName}}</h1>\n                            <h6 class=\"text-muted\">{{secondaryTitle}}</h6>\n                        </div>\n                    </div>\n                    <div v-if=\"canChangePassword || canDelete\" class=\"ml-auto my-4 my-sm-0 align-self-center align-self-end\">\n                        <b-dropdown id=\"resourceActions\" text=\"Actions\" right variant=\"primary\" class=\"m-md-2\">\n                            <b-dropdown-item v-if=\"canChangePassword\" v-b-modal.resetModal>{{$t('pages.access.resetPassword')}}</b-dropdown-item>\n                            <b-dropdown-item v-if=\"canDelete\" v-b-modal.deleteModal>{{$t(\"common.form.delete\")}} {{this.name}}</b-dropdown-item>\n                        </b-dropdown>\n                    </div>\n                </div>\n            </b-col>\n        </b-row>\n\n        <b-tabs content-class=\"mt-4\" nav-class=\"nav-bar-border\" flex-column flex-sm-row>\n            <b-tab :title=\"this.$t('pages.access.details')\" active>\n                <b-card>\n                    <template v-if=\"displayProperties.length > 0\">\n                        <template v-for=\"(field, index) in displayProperties\">\n                            <template v-if=\"!field.isReadOnly\">\n                                <b-form-group :label=\"field.title\" label-for=\"field.key\" horizontal :key=\"'editResource' +index\" v-if=\"(field.type === 'string' || field.type === 'number') && field.encryption === undefined\">\n                                    <b-form-input  :ref=\"index === 0 ? 'focusInput' : ''\" v-if=\"field.type === 'string'\" v-validate=\"field.required ? 'required' : ''\" data-vv-validate-on=\"submit\"\n                                            :name=\"field.key\"\n                                            type=\"text\"\n                                            :class=\"[{'is-invalid': errors.has(`mainEdit.${field.key}`)}]\"\n                                            :data-vv-as=\"field.title\"\n                                            data-vv-scope=\"mainEdit\"\n                                            :autocomplete=\"field.key\"\n                                            v-model.trim=\"formFields[field.key]\"></b-form-input>\n\n                                    <b-form-input horizontal :ref=\"index === 0 ? 'focusInput' : ''\" v-else v-validate=\"field.required ? 'required' : ''\" data-vv-validate-on=\"submit\"\n                                           :name=\"field.key\"\n                                           type=\"number\"\n                                           :class=\"[{'is-invalid': errors.has(`mainEdit.${field.key}`)}]\"\n                                           :data-vv-as=\"field.title\"\n                                           data-vv-scope=\"mainEdit\"\n                                           :autocomplete=\"field.key\"\n                                           v-model.number=\"formFields[field.key]\"></b-form-input>\n                                    <fr-validation-error :validatorErrors=\"errors\" :fieldName=\"`mainEdit.${field.key}`\"></fr-validation-error>\n                                </b-form-group>\n\n                                <fr-relationship-edit v-else-if=\"field.type === 'relationship'\"\n                                    :parentResource='resource + \"/\" + name'\n                                    :relationshipProperty='field'\n                                    :key=\"'editResource' +index\"\n                                    :index=\"index\"\n                                    :value=\"formFields[field.key]\"\n                                    :setValue=\"setSingletonRelationshipValue\" />\n\n                                <!-- for boolean values -->\n                                <b-form-group :key=\"'editResource' +index\" v-if=\"field.type === 'boolean'\">\n                                    <div class=\"form-row\">\n                                        <label class=\"col-form-label col-sm-3\" :for=\"field.title\">{{field.title}}</label>\n\n                                        <div class=\"mr-auto\">\n                                            <toggle-button class=\"mt-2 p-0 fr-toggle-primary\"\n                                                           :height=\"28\"\n                                                           :width=\"56\"\n                                                           :sync=\"true\"\n                                                           :cssColors=\"true\"\n                                                           :labels=\"{checked: $t('common.form.yes'), unchecked: $t('common.form.no')}\"\n                                                           v-model=\"formFields[field.key]\"/>\n                                        </div>\n                                    </div>\n                                </b-form-group>\n                            </template>\n                            <template v-else>\n                                <b-form-group :label=\"field.title\" label-for=\"field.key\" horizontal :key=\"'readResource' +index\" v-if=\"(field.type === 'string' || field.type === 'number') && field.encryption === undefined\">\n                                    <b-form-input horizontal\n                                          type=\"text\"\n                                          plaintext\n                                          v-model=\"formFields[field.key]\"></b-form-input>\n                                </b-form-group>\n\n                                <!-- for boolean values -->\n                                <b-form-group :key=\"'readResource' +index\" v-if=\"field.type === 'boolean'\">\n                                    <div class=\"form-row\">\n                                        <label class=\"col-form-label col-sm-3\" :for=\"field.title\">{{field.title}}</label>\n\n                                        <div class=\"mr-auto\">\n                                            <toggle-button class=\"mt-2 p-0 fr-toggle-primary\"\n                                                           :height=\"28\"\n                                                           :width=\"56\"\n                                                           :disabled=\"true\"\n                                                           :sync=\"true\"\n                                                           :cssColors=\"true\"\n                                                           :labels=\"{checked: $t('common.form.yes'), unchecked: $t('common.form.no')}\"\n                                                           v-model=\"formFields[field.key]\"/>\n                                        </div>\n                                    </div>\n                                </b-form-group>\n\n                                <!-- for singletonRelationhip values -->\n                                <b-form-group\n                                    :key=\"'readResource' +index\"\n                                    v-if=\"field.type === 'relationship'\">\n                                    <div class=\"form-row\">\n                                        <label class=\"col-form-label col-sm-3\" :for=\"field.title\">{{field.title}}</label>\n                                        <div v-if=\"formFields[field.key]\" class=\"media-body\">\n                                            <!-- Using the first display field here \"[0]\"-->\n                                            <div class=\"text-bold pl-1\">{{formFields[field.key][getRelationshipDisplayFields(field, formFields[field.key])[0]]}}</div>\n                                            <div>\n                                                <!-- Loop over the rest of the display fields and print each in a span -->\n                                                <span\n                                                    v-for=\"(displayField, displayFieldIndex) in getRelationshipDisplayFields(field, formFields[field.key])\"\n                                                    :key=\"`displayField_${displayField}_${displayFieldIndex}`\"\n                                                    v-show=\"displayFieldIndex !== 0\"\n                                                    class=\"pl-1 pr-1 text-muted\">\n                                                    {{formFields[field.key][displayField]}}\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </b-form-group>\n                            </template>\n                        </template>\n                        <div v-if=\"!disableSaveButton\" class=\"float-right mt-4\">\n                            <b-btn type=\"button\" @click=\"saveResource\" variant=\"primary\">{{$t('common.form.save')}}</b-btn>\n                        </div>\n                    </template>\n                    <span v-else>\n                        {{$t('pages.access.noAvailableProperties')}}\n                    </span>\n                </b-card>\n            </b-tab>\n            <!-- Add a tab for each viewable/editable relationship array property -->\n            <template v-for=\"(relationshipProperty) in relationshipProperties\">\n                <b-tab\n                    v-if=\"relationshipProperty.type === 'array'\"\n                    :title=\"relationshipProperty.title\"\n                    :key=\"`${relationshipProperty.propName}_tab`\">\n                    <fr-relationship-array :parentResource='resource + \"/\" + name' :parentId='id' :relationshipArrayProperty='relationshipProperty'/>\n                </b-tab>\n            </template>\n        </b-tabs>\n\n        <b-modal v-if=\"canDelete\" id=\"deleteModal\"\n                 ref=\"deleteModal\"\n                 :title=\"this.$t('pages.access.deleteModalTitle')\">\n\n            <div>\n                {{$t('pages.access.deleteConfirm')}} {{this.name}}?\n            </div>\n\n            <div slot=\"modal-footer\" class=\"w-100\">\n                <div class=\"float-right\">\n                    <b-btn type=\"button\" variant=\"danger\" @click=\"deleteResource\">{{$t('common.form.delete')}}</b-btn>\n                </div>\n            </div>\n        </b-modal>\n\n        <b-modal v-if=\"canChangePassword\" id=\"resetModal\"\n                 ref=\"resetModal\"\n                 :title=\"this.$t('pages.access.resetPassword')\">\n\n            <fr-password-policy-input :policyApi=\"`${resource}/${name}/policyTest`\" v-model=\"formFields['password']\">\n                <b-form-group class=\"mb-3\" slot=\"custom-input\">\n                    <label for=\"updatePassword\">{{$t('pages.access.password')}}</label>\n                    <div class=\"form-label-password form-label-group mb-0\">\n                        <b-form-input id=\"updatePassword\" autocomplete=\"password\" :type=\"passwordInputType\" v-model=\"formFields['password']\" name=\"password\" v-validate.initial=\"'required|policy'\"></b-form-input>\n                        <div class=\"input-group-append\">\n                            <button @click=\"revealNew\" class=\"btn btn-secondary\" type=\"button\">\n                                <i :class=\"[{'fa-eye-slash': !showPassword}, {'fa-eye': showPassword}, 'fa']\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </b-form-group>\n            </fr-password-policy-input>\n\n            <div slot=\"modal-footer\" class=\"w-100\">\n                <div class=\"float-right\">\n                    <b-btn type=\"button\" variant=\"primary\" @click=\"savePassword\">{{$t('common.form.save')}}</b-btn>\n                </div>\n            </div>\n        </b-modal>\n    </b-container>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport axios from 'axios';\nimport PolicyPasswordInput from '@/components/utils/PolicyPasswordInput';\nimport RelationshipArray from '@/components/access/RelationshipArray';\nimport RelationshipEdit from '@/components/access/RelationshipEdit';\nimport ResourceMixin from '@/components/utils/mixins/ResourceMixin';\nimport ValidationError from '@/components/utils/ValidationError';\n\n/**\n * @description Full page that provides view/edit of a specific resource for delegated admin. Auto generates fields based on backend return.\n * Currently generates string, number, boolean and password (not based on type, but on field name being passsword).\n *\n * @fires GET schema/type/name/ (e.g. schema/managed/user) - Schema for a resource\n * @fires GET privilege/type/name/id (e.g. privilege/managed/user/_id) - Privileges for a specific record of a resource\n * @fires GET type/name/id (e.g. managed/user/_id) - Resource details, in this context privileges will restrict the data return\n * @fires DELETE type/name/id (e.g. managed/user/_id) - Deletes resource record\n * @fires PATCH type/name/id (e.g. managed/user/_id) - Submits a patch object of changes for the provided resource record\n */\nexport default {\n    name: 'Edit-Resource',\n    components: {\n        'fr-validation-error': ValidationError,\n        'fr-password-policy-input': PolicyPasswordInput,\n        'fr-relationship-array': RelationshipArray,\n        'fr-relationship-edit': RelationshipEdit\n    },\n    mixins: [\n        ResourceMixin\n    ],\n    data () {\n        return {\n            name: this.$route.params.resourceName,\n            resource: this.$route.params.resourceType,\n            id: this.$route.params.resourceId,\n            displayProperties: [],\n            canDelete: false,\n            canChangePassword: false,\n            passwordInputType: 'password',\n            showPassword: true,\n            disableSaveButton: false,\n            icon: '',\n            displayNameField: '',\n            displaySecondaryTitleField: '',\n            formFields: {},\n            oldFormFields: {},\n            relationshipProperties: []\n        };\n    },\n    mounted () {\n        this.loadData();\n    },\n    $_veeValidate: {\n        validator: 'new'\n    },\n    methods: {\n        loadData () {\n            const idmInstance = this.getRequestService();\n\n            /* istanbul ignore next */\n            axios.all([\n                idmInstance.get(`schema/${this.resource}/${this.name}`),\n                idmInstance.get(`privilege/${this.resource}/${this.name}/${this.id}`)]).then(axios.spread((schema, privilege) => {\n                let resourceUrl = '';\n\n                this.relationshipProperties = this.getRelationshipProperties(schema.data, privilege.data);\n\n                resourceUrl = this.buildResourceUrl();\n\n                idmInstance.get(resourceUrl).then((resourceDetails) => {\n                    this.generateDisplay(schema.data, privilege.data, resourceDetails.data);\n                }).catch((error) => {\n                    this.displayNotification('error', error.response.data.message);\n                });\n            }))\n                .catch((error) => {\n                    this.displayNotification('error', error.response.data.message);\n                });\n        },\n        buildResourceUrl () {\n            let url = `${this.resource}/${this.name}/${this.id}?_fields=*`;\n            const singletons = _.filter(this.relationshipProperties, { type: 'relationship' });\n\n            if (singletons.length) {\n                url += `,${_.map(singletons, (prop) => { return prop.propName + '/*'; }).join(',')}`;\n            }\n\n            return url;\n        },\n        getRelationshipProperties (schema, privilege) {\n            return _.pickBy(schema.properties, (property, key) => {\n                const hasPermission = privilege.VIEW.properties.indexOf(key) > -1 || privilege.UPDATE.properties.indexOf(key) > -1,\n                    isRelationship = property.type === 'relationship' || (property.type === 'array' && property.items.type === 'relationship');\n\n                property.propName = key;\n\n                if (isRelationship) {\n                    property.isReadOnly = privilege.UPDATE.properties.indexOf(key) === -1;\n                }\n\n                return isRelationship && hasPermission;\n            });\n        },\n        setSingletonRelationshipValue (property, value) {\n            this.formFields[property] = value;\n        },\n        getRelationshipDisplayFields (property, value) {\n            return _.find(property.resourceCollection, { path: value._refResourceCollection }).query.fields;\n        },\n        generateDisplay (schema, privilege, resourceDetails) {\n            this.oldFormFields = _.pick(resourceDetails, privilege.VIEW.properties);\n\n            if (privilege.DELETE.allowed) {\n                this.canDelete = true;\n            }\n\n            if (schema.icon) {\n                this.icon = schema.icon;\n            } else {\n                this.icon = '';\n            }\n\n            // Add reactive form for changes\n            _.each(this.oldFormFields, (value, key) => {\n                this.$set(this.formFields, key, value);\n            });\n\n            if (privilege.VIEW.allowed) {\n                // if there are no update properties disable the save button\n                if (privilege.UPDATE.properties.length === 0) {\n                    this.disableSaveButton = true;\n                }\n                _.each(this.mergePrivilegeProperties(privilege, schema), (createPriv) => {\n                    let tempProp = schema.properties[createPriv.attribute];\n\n                    if (_.indexOf(schema.required, createPriv.attribute) !== -1) {\n                        tempProp.required = true;\n                    }\n\n                    if (createPriv.attribute === 'password' && !createPriv.readOnly) {\n                        this.canChangePassword = true;\n                    }\n\n                    tempProp.key = createPriv.attribute;\n\n                    // Try and do some primary detection for a display name\n                    if (createPriv.attrubute !== '_id' && this.displayNameField.length === 0) {\n                        this.displayNameField = createPriv.attribute;\n                    }\n\n                    // Try and do some primary detection for a secondary title\n                    if ((_.toLower(createPriv.attribute) === 'title' ||\n                                _.toLower(createPriv.attribute) === 'email' ||\n                                _.toLower(createPriv.attribute) === 'type' ||\n                                _.toLower(createPriv.attribute) === 'mail') && this.displaySecondaryTitleField.length === 0) {\n                        this.displaySecondaryTitleField = createPriv.attribute;\n                    }\n\n                    // Add fields that may not be set yet from reading the resource\n                    if (_.isUndefined(this.formFields[createPriv.attribute])) {\n                        if (tempProp.type === 'boolean') {\n                            this.$set(this.formFields, createPriv.attribute, false);\n                            this.oldFormFields[createPriv.attribute] = false;\n                        } else {\n                            this.$set(this.formFields, createPriv.attribute, '');\n                            this.oldFormFields[createPriv.attribute] = '';\n                        }\n                    }\n\n                    if (createPriv.readOnly) {\n                        tempProp.isReadOnly = true;\n                    }\n\n                    this.displayProperties.push(tempProp);\n                });\n            }\n        },\n        deleteResource () {\n            const idmInstance = this.getRequestService();\n\n            this.$refs.deleteModal.hide();\n\n            /* istanbul ignore next */\n            idmInstance.delete(`${this.resource}/${this.name}/${this.id}`).then(() => {\n                this.displayNotification('success', this.$t('pages.access.deleteResource'));\n\n                this.$router.push({\n                    name: 'ListResource',\n                    params: {\n                        resourceType: this.resource,\n                        resourceName: this.name\n                    }\n                });\n            })\n                .catch((error) => {\n                    this.displayNotification('error', error.response.data.message);\n                });\n        },\n        // Hide/show for special password field\n        revealNew () {\n            if (this.passwordInputType === 'password') {\n                this.passwordInputType = 'text';\n                this.showPassword = false;\n            } else {\n                this.passwordInputType = 'password';\n                this.showPassword = true;\n            }\n        },\n        saveResource () {\n            const idmInstance = this.getRequestService();\n\n            this.errors.clear('mainEdit');\n\n            /* istanbul ignore next */\n            this.$validator.validate('mainEdit.*').then((valid) => {\n                if (valid) {\n                    let saveData = this.generateUpdatePatch(_.clone(this.oldFormFields), _.clone(this.formFields));\n\n                    idmInstance.patch(`${this.resource}/${this.name}/${this.id}`, saveData).then(() => {\n                        this.displayNotification('success', this.$t('pages.access.successEdited', { resource: _.capitalize(this.name) }));\n                    },\n                    (error) => {\n                        let generatedErrors = this.findPolicyError(error.response, this.displayProperties);\n\n                        this.errors.clear();\n\n                        if (generatedErrors.length > 0) {\n                            _.each(generatedErrors, (generatedError) => {\n                                if (generatedError.exists) {\n                                    generatedError.scope = 'mainEdit';\n                                    this.errors.add(generatedError);\n                                }\n                            });\n                        } else {\n                            this.displayNotification('error', this.$t('pages.access.invalidEdit'));\n                        }\n                    });\n                } else {\n                    this.displayNotification('error', this.$t('pages.access.invalidEdit'));\n                }\n            });\n        },\n        savePassword () {\n            const idmInstance = this.getRequestService();\n\n            /* istanbul ignore next */\n            this.$validator.validate('*').then((valid) => {\n                if (valid) {\n                    let saveData = [{ operation: 'add', field: '/password', value: this.formFields['password'] }];\n\n                    this.$refs.resetModal.hide();\n                    this.formFields['password'] = '';\n\n                    idmInstance.patch(`${this.resource}/${this.name}/${this.id}`, saveData).then(() => {\n                        this.displayNotification('success', this.$t('pages.access.successSavePassword'));\n                    },\n                    () => {\n                        this.displayNotification('error', this.$t('pages.access.failedSavePassword'));\n                    });\n                } else {\n                    this.displayNotification('error', this.$t('pages.access.invalidEdit'));\n                }\n            });\n        },\n        mergePrivilegeProperties (privilege, schema) {\n            let properties = [];\n\n            _.each(schema.order, (schemaPropName) => {\n                let canView = _.indexOf(privilege.VIEW.properties, schemaPropName) > -1,\n                    canUpdate = _.indexOf(privilege.UPDATE.properties, schemaPropName) > -1,\n                    property = { attribute: schemaPropName };\n\n                if (canUpdate) {\n                    properties.push(property);\n                } else if (canView) {\n                    property.readOnly = true;\n                    properties.push(property);\n                }\n            });\n\n            return properties;\n        }\n    },\n    computed: {\n        secondaryTitle () {\n            let tempDisplayName = `${this.resource} - ${this.name}`;\n\n            if (this.displaySecondaryTitleField.length > 0) {\n                tempDisplayName = this.formFields[this.displaySecondaryTitleField];\n            }\n\n            return tempDisplayName;\n        },\n        displayName () {\n            let tempDisplayName = this.id;\n\n            if (this.displayNameField.length > 0) {\n                tempDisplayName = this.formFields[this.displayNameField];\n            }\n\n            return tempDisplayName;\n        },\n        setIcon () {\n            let tempIcon = 'fa-cube';\n\n            if (this.icon.length > 0) {\n                tempIcon = this.icon;\n            }\n\n            return `fa fa-3x ${tempIcon}`;\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n    /deep/ {\n        .nav-bar-border {\n            border-bottom: 1px solid $gray-300;\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditResource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditResource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditResource.vue?vue&type=template&id=e14d54e6&scoped=true&\"\nimport script from \"./EditResource.vue?vue&type=script&lang=js&\"\nexport * from \"./EditResource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditResource.vue?vue&type=style&index=0&id=e14d54e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e14d54e6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationshipArray.vue?vue&type=style&index=0&id=64a6e943&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelationshipArray.vue?vue&type=style&index=0&id=64a6e943&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditResource.vue?vue&type=style&index=0&id=e14d54e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditResource.vue?vue&type=style&index=0&id=e14d54e6&lang=scss&scoped=true&\""],"sourceRoot":""}