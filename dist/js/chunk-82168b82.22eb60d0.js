/*!
 * Copyright 2019 ForgeRock AS. All Rights Reserved 
 *  Use of this code requires a commercial software license with ForgeRock AS. or with one of its affiliates. All use shall be exclusively subject to such license between the licensee and ForgeRock AS.
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-82168b82"],{b107:function(e,t,o){e.exports={baseColor:"#007bff"}},e65c:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-container",{staticClass:"h-100 px-0",attrs:{fluid:""}},[o("div",{staticClass:"h-100 d-flex"},[o("div",{staticClass:"m-auto fr-center-card"},[o("bounce-loader",{attrs:{color:e.loadingColor}})],1)])])},n=[],r=o("2ef0"),i=o.n(r),s=o("b107"),c=o.n(s),l=o("8455"),u={name:"OAuth-Return",components:{"bounce-loader":l["BounceLoader"]},data:function(){return{loadingColor:c.a.baseColor}},created:function(){var e,t=this;if(this.$route.params.amData)e={},i.a.each(this.$route.params.amData.replace("?","").split("&"),(function(t){if(t.length>0){var o=t.split("=");e[o[0]]=o[1]}})),window.history.pushState("","",window.location.pathname),this.$router.push({name:"AccountClaiming",params:{clientToken:e.clientToken,returnParams:e.returnParams}});else{e=window.location.search.replace("?","").split("&").reduce((function(e,t){var o=t.split("="),a=[decodeURIComponent(o[1])];return e[o[0]]=e[o[0]]?e[o[0]].concat(a):a,e}),{}),window.history.pushState("","",window.location.pathname),this.$root.applicationStore.clearAuthHeadersAction();var o=this.getRequestService({headers:i.a.extend(this.getAnonymousHeaders(),{"X-OpenIDM-NoSession":"true","X-OpenIDM-DataStoreToken":localStorage.getItem("dataStoreToken")})}),a=localStorage.getItem("linkedProvider");localStorage.removeItem("dataStoreToken"),localStorage.removeItem("linkedProvider"),o.post("/identityProviders?_action=handlePostAuth",e).then((function(e){var o=e.data.token,n=localStorage.getItem("accountClaimingToken");localStorage.removeItem("accountClaimingToken");var r=t.getRequestService({headers:{"X-OpenIDM-NoSession":"false","X-OpenIDM-OAuth-Login":"true","X-OpenIDM-DataStoreToken":o,"X-Requested-With":"XMLHttpRequest"}});r.post("/authentication?_action=login").then((function(e){i.a.has(t.$root.applicationStore.state,"amDataEndpoints")&&null!==t.$root.applicationStore.state.amDataEndpoints&&(t.$root.applicationStore.setAuthHeadersAction({"X-OpenIDM-OAuth-Login":"true","X-OpenIDM-DataStoreToken":o,"X-Requested-With":"XMLHttpRequest"}),sessionStorage.setItem("amToken",o),sessionStorage.setItem("resubmitDataStoreToken","true")),t.progressiveProfileCheck(e,(function(){a?t.$router.push({name:"Profile",params:{clientToken:o,linkedProvider:a}}):i.a.isNull(n)?t.$router.push("/"):t.$router.push({name:"AccountClaiming",params:{clientToken:o,originalToken:n}})}))})).catch((function(){t.$router.push({name:"AccountClaiming",params:{clientToken:o,originalToken:n}})}))})).catch((function(e){t.$router.push("/login"),t.displayNotification("error",e.response.data.message)}))}}},p=u,d=o("2877"),h=Object(d["a"])(p,a,n,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-82168b82.22eb60d0.js.map