{"version":3,"sources":["webpack:///./src/components/utils/ValidationError.vue?d483","webpack:///src/components/utils/ValidationError.vue","webpack:///./src/components/utils/ValidationError.vue?332d","webpack:///./src/components/utils/ValidationError.vue","webpack:///./src/components/profile/EditPersonalInfo.vue?1f85","webpack:///src/components/profile/EditPersonalInfo.vue","webpack:///./src/components/profile/EditPersonalInfo.vue?b91d","webpack:///./src/components/profile/EditPersonalInfo.vue","webpack:///./src/components/profile/EditPersonalInfo.vue?bd90","webpack:///./src/components/utils/mixins/ResourceMixin.vue","webpack:///src/components/utils/mixins/ResourceMixin.vue","webpack:///./src/components/utils/mixins/ResourceMixin.vue?645b"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","validatorErrors","has","fieldName","expression","staticClass","_v","_s","first","staticRenderFns","component","ref","attrs","on","setModal","nativeOn","$event","type","indexOf","_k","keyCode","key","preventDefault","saveForm","slot","title","hideModal","formFields","length","staticStyle","_l","field","index","required","_e","$t","modifiers","class","errors","domProps","target","composing","$set","trim","$forceUpdate","_n","checked","unchecked","$root","userStore","state","internalUser"],"mappings":"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","file":"js/chunk-314bce90.bace2294.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.validatorErrors.has(_vm.fieldName)),expression:\"validatorErrors.has(fieldName)\"}],staticClass:\"fr-validation-requirements text-left\"},[_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.validatorErrors.first(_vm.fieldName)))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-show=\"validatorErrors.has(fieldName)\" class=\"fr-validation-requirements text-left\">\n        <span class=\"text-danger\">{{validatorErrors.first(fieldName)}}</span>\n    </div>\n</template>\n\n<script>\n/**\n * @description Component for displaying error message for form fields\n *\n **/\nexport default {\n    name: 'Validation-Error',\n    props: ['validatorErrors', 'fieldName']\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationError.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationError.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ValidationError.vue?vue&type=template&id=ad00d232&scoped=true&\"\nimport script from \"./ValidationError.vue?vue&type=script&lang=js&\"\nexport * from \"./ValidationError.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad00d232\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{ref:\"fsModal\",attrs:{\"id\":\"userDetailsModal\",\"modal-class\":\"fr-full-screen\",\"cancel-variant\":\"outline-secondary\"},on:{\"show\":_vm.setModal},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.saveForm($event)}}},[_c('div',{staticClass:\"d-flex w-100 h-100\",attrs:{\"slot\":\"modal-header\"},slot:\"modal-header\"},[_c('h5',{staticClass:\"modal-title align-self-center text-center\"},[_vm._v(_vm._s(_vm.title))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":_vm.hideModal}},[_c('i',{staticClass:\"fa fa-times\"})])]),_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"8\",\"offset-sm\":\"2\"}},[(_vm.formFields.length > 0)?_c('b-form',{staticClass:\"mb-3 fr-edit-personal-form\",staticStyle:{\"flex-direction\":\"column\"},attrs:{\"name\":\"edit-personal-form\"}},[_vm._l((_vm.formFields),function(field,index){return [(field.type === 'string' || field.type === 'number')?_c('b-form-group',{key:index,staticStyle:{\"min-width\":\"200px\"}},[_c('label',{attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),(!field.required)?_c('small',{staticClass:\"text-muted ml-1\"},[_vm._v(_vm._s(_vm.$t('pages.profile.editProfile.optional')))]):_vm._e(),(field.type === 'string')?_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(field.required ? 'required' : ''),expression:\"field.required ? 'required' : ''\"},{name:\"model\",rawName:\"v-model.trim\",value:(_vm.formFields[index].value),expression:\"formFields[index].value\",modifiers:{\"trim\":true}}],class:[{'is-invalid': _vm.errors.has(field.name)}, 'form-control'],attrs:{\"data-vv-validate-on\":\"submit\",\"name\":field.name,\"type\":field.type,\"data-vv-as\":field.title},domProps:{\"value\":(_vm.formFields[index].value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formFields[index], \"value\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}):_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(field.required ? 'required' : ''),expression:\"field.required ? 'required' : ''\"},{name:\"model\",rawName:\"v-model.number\",value:(_vm.formFields[index].value),expression:\"formFields[index].value\",modifiers:{\"number\":true}}],class:[{'is-invalid': _vm.errors.has(field.name)}, 'form-control'],attrs:{\"data-vv-validate-on\":\"submit\",\"name\":field.name,\"type\":field.type,\"data-vv-as\":field.title},domProps:{\"value\":(_vm.formFields[index].value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formFields[index], \"value\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('fr-validation-error',{attrs:{\"validatorErrors\":_vm.errors,\"fieldName\":field.name}})],1):_vm._e(),(field.type === 'boolean')?_c('b-form-group',{key:index},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{staticClass:\"mr-auto\",attrs:{\"for\":field.title}},[_vm._v(_vm._s(field.title))]),_c('div',{staticClass:\"mr-auto\"},[_c('toggle-button',{staticClass:\"mt-2 p-0 fr-toggle-primary\",attrs:{\"height\":28,\"width\":56,\"sync\":true,\"cssColors\":true,\"labels\":{checked: _vm.$t('common.form.yes'), unchecked: _vm.$t('common.form.no')},\"value\":_vm.formFields[index].value},on:{\"change\":function($event){_vm.formFields[index].value = !_vm.formFields[index].value}}})],1)])]):_vm._e()]})],2):[_c('h3',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('pages.profile.editProfile.noFields')))])]],2)],1)],1),_c('div',{staticClass:\"w-100\",attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('div',{staticClass:\"float-right\"},[_c('b-btn',{attrs:{\"variant\":\"outline-secondary mr-2\"},on:{\"click\":_vm.hideModal}},[_vm._v(_vm._s(_vm.$t('common.form.cancel')))]),_c('b-btn',{attrs:{\"type\":\"button\",\"variant\":\"primary\",\"disabled\":_vm.$root.userStore.state.internalUser},on:{\"click\":_vm.saveForm}},[_vm._v(_vm._s(_vm.$t('common.form.saveChanges')))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-modal id=\"userDetailsModal\" modal-class=\"fr-full-screen\" ref=\"fsModal\" cancel-variant=\"outline-secondary\" @show=\"setModal\" @keydown.enter.native.prevent=\"saveForm\">\n\n        <div slot=\"modal-header\" class=\"d-flex w-100 h-100\">\n            <h5 class=\"modal-title align-self-center text-center\">{{title}}</h5>\n            <button type=\"button\" aria-label=\"Close\" class=\"close\" @click=\"hideModal\"><i class=\"fa fa-times\"></i></button>\n        </div>\n\n        <!-- Editing profile currently only supports String, Number and Boolean-->\n        <b-container>\n            <b-row>\n                <b-col sm=\"8\" offset-sm=\"2\">\n                    <b-form style=\"flex-direction: column;\" v-if=\"formFields.length > 0\" class=\"mb-3 fr-edit-personal-form\" name=\"edit-personal-form\">\n                        <template v-for=\"(field, index) in formFields\">\n                            <b-form-group style=\"min-width: 200px;\" :key=\"index\" v-if=\"field.type === 'string' || field.type === 'number'\">\n                                <label :for=\"field.title\">{{field.title}}</label>\n                                <small v-if=\"!field.required\" class=\"text-muted ml-1\">{{$t('pages.profile.editProfile.optional')}}</small>\n\n                                <input v-if=\"field.type === 'string'\" v-validate=\"field.required ? 'required' : ''\" data-vv-validate-on=\"submit\"\n                                       :name=\"field.name\"\n                                       :type=\"field.type\"\n                                       :class=\"[{'is-invalid': errors.has(field.name)}, 'form-control']\"\n                                       :data-vv-as=\"field.title\"\n                                       v-model.trim=\"formFields[index].value\">\n\n                                <input v-else v-validate=\"field.required ? 'required' : ''\" data-vv-validate-on=\"submit\"\n                                       :name=\"field.name\"\n                                       :type=\"field.type\"\n                                       :class=\"[{'is-invalid': errors.has(field.name)}, 'form-control']\"\n                                       :data-vv-as=\"field.title\"\n                                       v-model.number=\"formFields[index].value\">\n                                <fr-validation-error :validatorErrors=\"errors\" :fieldName=\"field.name\"></fr-validation-error>\n                            </b-form-group>\n\n                            <!-- for boolean values -->\n                            <b-form-group :key=\"index\" v-if=\"field.type === 'boolean'\">\n                                <div class=\"d-flex flex-column\">\n                                    <label class=\"mr-auto\" :for=\"field.title\">{{field.title}}</label>\n\n                                    <div class=\"mr-auto\">\n                                        <toggle-button class=\"mt-2 p-0 fr-toggle-primary\"\n                                                       :height=\"28\"\n                                                       :width=\"56\"\n                                                       :sync=\"true\"\n                                                       :cssColors=\"true\"\n                                                       :labels=\"{checked: $t('common.form.yes'), unchecked: $t('common.form.no')}\"\n                                                       :value=\"formFields[index].value\"\n                                                       @change=\"formFields[index].value = !formFields[index].value\"/>\n                                    </div>\n                                </div>\n                            </b-form-group>\n                        </template>\n                    </b-form>\n                    <template v-else>\n                        <h3 class=\"text-center\">{{$t('pages.profile.editProfile.noFields')}}</h3>\n                    </template>\n                </b-col>\n            </b-row>\n        </b-container>\n\n        <div slot=\"modal-footer\" class=\"w-100\">\n            <div class=\"float-right\">\n                <b-btn variant=\"outline-secondary mr-2\" @click=\"hideModal\">{{$t('common.form.cancel')}}</b-btn>\n                <b-btn type=\"button\" variant=\"primary\" :disabled=\"$root.userStore.state.internalUser\" @click=\"saveForm\">{{$t('common.form.saveChanges')}}</b-btn>\n            </div>\n        </div>\n    </b-modal>\n</template>\n\n<script>\nimport _ from 'lodash';\nimport ValidationError from '@/components/utils/ValidationError';\nimport ResourceMixin from '@/components/utils/mixins/ResourceMixin';\n\n/**\n * @description Displays a users profile, auto generates fields based off of resource schema. Currently only displays strings, numbers and booleans. In the case of a policy\n * save error it will highlight the appropriate field and display a policy error. For custom profile changes (e.g. adding a dropdown) this would be the primary file to add these\n * adjustments.\n *\n */\nexport default {\n    name: 'Edit-Personal-Info',\n    mixins: [\n        ResourceMixin\n    ],\n    components: {\n        'fr-validation-error': ValidationError\n    },\n    $_veeValidate: {\n        validator: 'new'\n    },\n    props: {\n        schema: { type: Object, required: true },\n        profile: { type: Object, required: true },\n        autoOpen: { type: Boolean, required: false, default: false }\n    },\n    data () {\n        return {\n            formFields: [],\n            originalFormFields: [],\n            title: this.$t('pages.profile.editProfile.userDetailsTitle')\n        };\n    },\n    mounted () {\n        if (this.autoOpen) {\n            this.$root.$emit('bv::show::modal', 'userDetailsModal');\n        }\n    },\n    methods: {\n        generateFormFields () {\n            let { order, properties, required } = this.schema,\n                filteredOrder = _.filter(order, (propName) => {\n                    return properties[propName].viewable &&\n                            properties[propName].userEditable &&\n                            properties[propName].type !== 'array' &&\n                            properties[propName].type !== 'object';\n                }),\n                formFields = _.map(filteredOrder, (name) => {\n                    return {\n                        name: name,\n                        key: name,\n                        title: properties[name].title,\n                        value: this.profile[name] || null,\n                        type: properties[name].type,\n                        required: _.includes(required, name)\n                    };\n                });\n\n            return formFields;\n        },\n        hideModal () {\n            this.$refs.fsModal.hide();\n        },\n        setModal () {\n            let formFields = this.generateFormFields();\n\n            this.formFields = formFields;\n            this.originalFormFields = _.cloneDeep(formFields);\n        },\n        saveForm () {\n            /* istanbul ignore next */\n            this.isValid().then((valid) => {\n                if (valid) {\n                    const idmInstance = this.getRequestService();\n                    let policyFields = {};\n\n                    _.each(this.formFields, (field) => {\n                        if (field.value !== null) {\n                            policyFields[field.name] = field.value;\n                        }\n                    });\n\n                    idmInstance.post(`policy/${this.$root.userStore.state.managedResource}/${this.$root.userStore.state.userId}?_action=validateObject`, policyFields).then((policyResult) => {\n                        if (policyResult.data.failedPolicyRequirements.length === 0) {\n                            this.$emit('updateProfile', this.generateUpdatePatch(this.originalFormFields, this.formFields));\n                            this.errors.clear();\n                            this.hideModal();\n                        } else {\n                            let generatedErrors = this.findPolicyError({\n                                data: {\n                                    detail: {\n                                        failedPolicyRequirements: policyResult.data.failedPolicyRequirements\n                                    }\n                                }\n                            }, this.formFields);\n\n                            this.errors.clear();\n\n                            if (generatedErrors.length > 0) {\n                                _.each(generatedErrors, (generatedError) => {\n                                    if (generatedError.exists) {\n                                        this.errors.add(generatedError);\n                                    }\n                                });\n                            } else {\n                                this.displayNotification('error', this.$t('pages.profile.editProfile.failedProfileSave'));\n                            }\n                        }\n                    });\n                }\n            });\n        },\n        isValid () {\n            return this.$validator.validateAll();\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n    @import '../../scss/full-screen-modal';\n\n    _:-ms-fullscreen, :root {\n        #userDetailsModal {\n            .row {\n                min-width: 900px;\n            }\n            .fr-edit-personal-form {\n                min-width: 900px;\n            }\n        }\n    }\n\n    @media only screen and (max-width: 700px) {\n        _:-ms-fullscreen, :root {\n            #userDetailsModal {\n                .row {\n                    min-width: 200px;\n                }\n                .fr-edit-personal-form {\n                    min-width: 200px;\n                }\n            }\n        }\n\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPersonalInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPersonalInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPersonalInfo.vue?vue&type=template&id=0505c5f0&\"\nimport script from \"./EditPersonalInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPersonalInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPersonalInfo.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPersonalInfo.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPersonalInfo.vue?vue&type=style&index=0&lang=scss&\"","var render, staticRenderFns\nimport script from \"./ResourceMixin.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceMixin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport _ from 'lodash';\n\n/**\n * @description Resource management mixin used for generating an update patch and  handling policy errors\n *\n **/\nexport default {\n    name: 'Resource-Mixin',\n    methods: {\n        generateUpdatePatch (o, n) {\n            let originalFrom = _.cloneDeep(o),\n                newForm = _.cloneDeep(n),\n                changes;\n\n            if (_.isArray(newForm)) {\n                changes = _.filter(newForm, (field, index) => {\n                    if (field.value !== originalFrom[index].value) {\n                        return true;\n                    }\n                    return false;\n                });\n            } else {\n                changes = [];\n\n                _.each(newForm, (value, key) => {\n                    if (originalFrom[key] !== newForm[key]) {\n                        changes.push({\n                            value: newForm[key],\n                            name: key\n                        });\n                    }\n                });\n            }\n\n            return _.map(changes, (formField) => {\n                if (formField.value === '' || formField.value === null) {\n                    return { operation: 'remove', field: '/' + formField.name };\n                } else {\n                    return { operation: 'add', field: '/' + formField.name, value: formField.value };\n                }\n            });\n        },\n\n        findPolicyError (errorResponse, properties) {\n            let error = [];\n\n            if (_.has(errorResponse, 'data.detail.failedPolicyRequirements')) {\n                _.each(errorResponse.data.detail.failedPolicyRequirements, (policy) => {\n                    if (policy.policyRequirements.length > 0) {\n                        let displayTitle = '',\n                            foundProperty = _.find(properties, (prop) => { return prop.key === policy.property; }),\n                            params = policy.policyRequirements[0].params || {};\n\n                        if (foundProperty) {\n                            if (foundProperty.title) {\n                                displayTitle = foundProperty.title;\n                            } else {\n                                displayTitle = foundProperty.key;\n                            }\n\n                            params.property = displayTitle;\n                        }\n\n                        error.push({\n                            exists: displayTitle.length > 0,\n                            field: policy.property,\n                            msg: this.$t(`common.policyValidationMessages.${policy.policyRequirements[0].policyRequirement}`, params)\n                        });\n                    }\n                });\n            }\n\n            return error;\n        }\n    }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceMixin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceMixin.vue?vue&type=script&lang=js&\""],"sourceRoot":""}